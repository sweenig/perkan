body{font-family:Segoe UI,Roboto,Arial;background:#f4f6f8;margin:0;padding:0;min-height:100vh;display:flex;flex-direction:column}
header{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background:#fff;border-bottom:1px solid #e0e0e0}
header h1{margin:0}
.board{display:flex;gap:12px;padding:20px;flex:1;align-items:stretch;overflow-x:auto}
.column{background:#fff;border:1px solid #e0e0e0;border-radius:6px;padding:10px;flex:1;min-width:220px}
.col-header{font-weight:600;margin-bottom:8px}
.card-list{min-height:40px}
.column{border-radius:6px;position:relative;padding-bottom:32px}
.column{display:flex;flex-direction:column}
.card-list{flex:1;overflow-y:auto;padding-right:6px}
.card{background:#fafafa;border:1px solid #ddd;padding:8px;border-radius:6px;margin-bottom:8px;cursor:grab;position:relative;min-height:60px}
.card .card-title{font-weight:600}
.card .card-desc{word-break:break-word;overflow-wrap:anywhere;padding-bottom:48px}
.card .card-links{position:absolute;left:8px;bottom:6px;font-size:13px;color:#4b4b4b;display:flex;align-items:center;gap:4px;background:rgba(0,0,0,0.05);padding:2px 8px;border-radius:14px;font-weight:600}
.card .card-project{position:absolute;left:50%;bottom:6px;transform:translateX(-50%);font-size:13px;color:var(--project-pill-text,#1b1b25);background:var(--project-pill-bg,rgba(255,255,255,0.85));padding:2px 12px;border-radius:16px;font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,0.12);white-space:nowrap;pointer-events:none;border:2px solid var(--project-pill-border,rgba(0,0,0,0.12));transition:background 0.2s ease,border-color 0.2s ease,color 0.2s ease}
.drop-zone{margin-bottom:10px;padding:14px;border:2px dashed #b78ef5;border-radius:8px;text-align:center;font-weight:600;color:#b78ef5;background:rgba(183,142,245,0.08);pointer-events:none;opacity:0;transform:scale(0.95);transition:opacity 0.15s ease,transform 0.15s ease}
.drop-zone.visible{opacity:1;transform:scale(1)}
.card .edit{position:absolute;right:6px;bottom:6px;border:0;background:transparent;cursor:pointer;font-size:16px;padding:2px 4px}

/* per-column add button */
.col-add{position:absolute;right:8px;bottom:8px;width:34px;height:34px;border-radius:50%;border:0;background:#1f77b4;color:#fff;font-size:20px;line-height:1;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,0.2)}
.col-add:active{transform:translateY(1px)}

/* card modal form */
#cardModal .modal-content input,#cardModal .modal-content textarea,#cardModal .modal-content select{width:100%;padding:8px;border:1px solid #ccc;border-radius:6px;margin-top:8px}
#cardModal .modal-content textarea{min-height:80px;resize:vertical}
#cardModal .modal-content .modal-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}

/* edit card modal form */
#cardEditModal .modal-content label{display:block;margin-top:12px;font-weight:600}
#cardEditModal .modal-content input,#cardEditModal .modal-content textarea,#cardEditModal .modal-content select{width:100%;padding:8px;border:1px solid #ccc;border-radius:6px;margin-top:4px}
#cardModal .modal-content input,#cardModal .modal-content textarea,#cardModal .modal-content select,
#cardEditModal .modal-content input,#cardEditModal .modal-content textarea{box-sizing:border-box}
#cardEditModal .modal-content textarea{min-height:80px;resize:vertical}
#cardEditModal .modal-content .modal-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:16px}
.delete-btn{background-color:#d62728;color:#fff;border:0;padding:6px 12px;border-radius:4px;cursor:pointer}
.delete-btn:hover{background-color:#b71c1c}

/* Settings modal */
#settingsBtn{margin-left:8px;padding:6px 10px}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center}
.modal.hidden{display:none}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.4)}
.links-section{margin-top:16px;padding-top:16px;border-top:1px solid rgba(255,255,255,0.08)}
.links-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.links-header span{font-weight:600}
#addLinkRowBtn{background:#2b2150;color:#fff;border:1px solid #563baf;padding:6px 12px;border-radius:6px;cursor:pointer}
#addLinkRowBtn:hover{background:#3a2f6d}
.link-rows{display:flex;flex-direction:column;gap:10px;margin-top:12px}
.link-row{display:flex;gap:8px;align-items:center}
.link-row input{padding:8px;border:1px solid #555;border-radius:6px;background:#1b1b25;color:#f4f6f8}
.link-row input.link-text{flex:0 0 34%}
.link-row input.link-url{flex:1}
.link-visit{background:#164d6d;color:#fff;padding:6px 12px;border-radius:6px;text-decoration:none;border:1px solid #2a6c8f;min-width:64px;text-align:center}
.link-visit.disabled{pointer-events:none;opacity:0.4}
.link-remove{background:#37214f;color:#fff;border:1px solid #6d4fb3;border-radius:6px;padding:6px 10px;cursor:pointer}
.link-remove:hover{background:#4a2c6d}
.link-hint{display:block;margin-top:8px;font-size:12px;color:rgba(255,255,255,0.6)}
.link-rows:empty::after{content:'No links yet';color:rgba(255,255,255,0.6);font-size:14px}
.modal-content{position:relative;background:#0f0f18;padding:18px;border-radius:8px;z-index:2;min-width:500px;max-width:80%;width:60%;border:2px solid transparent;box-shadow:0 12px 30px rgba(0,0,0,0.45)}
.settings-tabs{display:flex;gap:8px;margin-top:12px}
.settings-tab-btn{flex:0 0 auto;padding:6px 14px;border-radius:999px;border:1px solid #563baf;background:transparent;color:#f4f6f8;cursor:pointer;font-weight:600;transition:background 0.2s ease,color 0.2s ease}
.settings-tab-btn.active{background:#563baf;color:#fff}
.settings-tab-panels{margin-top:16px}
.settings-tab-panel{display:none}
.settings-tab-panel.active{display:block}
.tab-placeholder{margin:16px 0;color:rgba(255,255,255,0.7);font-style:italic}
.columns-list{display:flex;flex-direction:column;gap:8px;margin:8px 0}
.col-row{display:flex;gap:8px;align-items:center}
.col-row input.col-title{flex:1;padding:6px;border:1px solid #ccc;border-radius:4px}
.col-row button{padding:6px 8px}
.add-column{display:flex;gap:8px;margin-top:10px}
.projects-list{display:flex;flex-direction:column;gap:8px;margin:8px 0}
.project-row{display:flex;gap:8px;align-items:center}
.project-row input.project-name{flex:1;padding:6px;border:1px solid #ccc;border-radius:4px}
.project-row input.project-color{width:52px;height:36px;padding:0;border:1px solid #ccc;border-radius:4px}
.project-row button{padding:6px 8px}
.project-empty{padding:12px;border:1px dashed rgba(255,255,255,0.3);border-radius:6px;text-align:center;color:rgba(255,255,255,0.6)}
.add-project{display:flex;gap:8px;margin-top:10px}
.modal-actions{display:flex;justify-content:flex-end;margin-top:12px}
