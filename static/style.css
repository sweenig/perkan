body{font-family:Segoe UI,Roboto,Arial;background:#f4f6f8;margin:0;padding:0;height:100vh;min-height:100vh;display:flex;flex-direction:column}
header{display:flex;flex-direction:column;gap:12px;padding:14px 20px;background:#fff;border-bottom:1px solid #e0e0e0}
.header-top{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
header h1{margin:0}
.project-filters{display:flex;flex-wrap:wrap;gap:8px;align-items:center;min-height:32px}
.project-filters-empty{font-size:13px;color:#5f6368}
.project-filter-pill{display:inline-flex;align-items:center;gap:6px;border:1px solid rgba(91,46,138,0.35);border-radius:999px;padding:6px 12px;background:#f8f2ff;color:#1b1033;font-weight:600;font-size:13px;font-family:inherit;cursor:pointer;transition:background 0.2s ease,border-color 0.2s ease,color 0.2s ease,box-shadow 0.2s ease;box-shadow:0 1px 2px rgba(0,0,0,0.08)}
.project-filter-pill:hover{border-color:#5b2e8a;background:#f1e7ff}
.project-filter-pill:focus-visible{outline:2px solid #5b2e8a;outline-offset:2px}
.project-filter-pill.active{background:#5b2e8a;color:#fff;border-color:#5b2e8a;box-shadow:0 4px 10px rgba(91,46,138,0.25)}
.project-filter-pill-dot{width:10px;height:10px;border-radius:50%;border:1px solid rgba(0,0,0,0.15);box-shadow:0 0 0 2px rgba(255,255,255,0.8)}
.project-filter-pill-label{white-space:nowrap}
.board{display:flex;gap:12px;padding:20px;flex:1;align-items:stretch;overflow-x:auto;overflow-y:hidden;min-height:0}
.column{background:#fff;border:1px solid #e0e0e0;border-radius:6px;padding:10px;flex:1;min-width:220px}
.col-header{font-weight:600;margin-bottom:8px}
.card-list{min-height:40px}
.column{border-radius:6px;position:relative;box-sizing:border-box}
.column{display:flex;flex-direction:column;height:100%;min-height:0}
.card-list{flex:1;overflow-y:auto;padding-right:6px;min-height:0}
.card{background:#fafafa;border:1px solid #ddd;padding:8px;border-radius:6px;margin-bottom:8px;cursor:grab;position:relative;min-height:60px}
.card .card-title{font-weight:600}
.card .card-desc{word-break:break-word;overflow-wrap:anywhere;padding-bottom:48px}
.card .card-links{position:absolute;left:8px;bottom:6px;font-size:13px;color:#4b4b4b;display:flex;align-items:center;gap:4px;background:rgba(0,0,0,0.05);padding:2px 8px;border-radius:14px;font-weight:600;cursor:pointer}
.card .card-project{position:absolute;left:50%;bottom:6px;transform:translateX(-50%);font-size:13px;color:var(--project-pill-text,#1b1b25);background:var(--project-pill-bg,rgba(255,255,255,0.85));padding:2px 12px;border-radius:16px;font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,0.12);white-space:nowrap;pointer-events:auto;border:2px solid var(--project-pill-border,rgba(0,0,0,0.12));transition:background 0.2s ease,border-color 0.2s ease,color 0.2s ease;cursor:pointer;user-select:none}
.drop-zone{margin-bottom:10px;padding:14px;border:2px dashed #b78ef5;border-radius:8px;text-align:center;font-weight:600;color:#b78ef5;background:rgba(183,142,245,0.08);pointer-events:none;opacity:0;transform:scale(0.95);transition:opacity 0.15s ease,transform 0.15s ease}
.drop-zone.visible{opacity:1;transform:scale(1)}
.card .edit{position:absolute;right:6px;bottom:6px;border:0;background:transparent;cursor:pointer;font-size:16px;padding:2px 4px}

.card-link-popup{position:absolute;z-index:40;min-width:220px;background:#0f0f18;color:#f4f6f8;border:1px solid rgba(255,255,255,0.18);border-radius:8px;padding:10px;box-shadow:0 12px 28px rgba(0,0,0,0.5);font-size:13px;line-height:1.4}
.card-link-popup.hidden{display:none}
.card-link-popup ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}
.card-link-popup li{display:flex}
.card-link-popup a{color:#8bb9ff;text-decoration:none;font-weight:600;word-break:break-word}
.card-link-popup a:hover{text-decoration:underline}

.project-info-popup{position:absolute;z-index:40;min-width:230px;background:#0f0f18;color:#f4f6f8;border:1px solid rgba(183,142,245,0.45);border-radius:10px;padding:10px 12px;box-shadow:0 14px 32px rgba(0,0,0,0.55);font-size:13px;line-height:1.4}
.project-info-popup.hidden{display:none}
.project-preview-top{display:flex;align-items:center;gap:10px}
.project-preview-dot{width:16px;height:16px;border-radius:50%;border:2px solid rgba(255,255,255,0.5);box-shadow:0 0 0 1px rgba(0,0,0,0.35)}
.project-preview-text{flex:1;min-width:0}
.project-preview-name{font-weight:600;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.project-preview-color{font-size:12px;color:rgba(255,255,255,0.65);letter-spacing:0.05em}
.project-preview-edit{border:0;background:rgba(183,142,245,0.22);color:#f4f6f8;padding:6px;border-radius:50%;cursor:pointer;font-size:14px;line-height:1}
.project-preview-edit:hover{background:rgba(183,142,245,0.35)}

/* per-column add button */
.col-add{position:absolute;right:8px;bottom:8px;width:34px;height:34px;border-radius:50%;border:0;background:#1f77b4;color:#fff;font-size:20px;line-height:1;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,0.2)}
.col-add:active{transform:translateY(1px)}

/* card modal form */
#cardModal .modal-content input,#cardModal .modal-content textarea,#cardModal .modal-content select{width:100%;padding:8px;border:1px solid #ccc;border-radius:6px;margin-top:8px}
#cardModal .modal-content textarea{min-height:80px;resize:vertical}
#cardModal .modal-content .modal-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}

/* edit card modal form */
#cardEditModal .modal-content label{display:block;margin-top:12px;font-weight:600}
#cardEditModal .modal-content input,#cardEditModal .modal-content textarea,#cardEditModal .modal-content select{width:100%;padding:8px;border:1px solid #ccc;border-radius:6px;margin-top:4px}
#cardModal .modal-content input,#cardModal .modal-content textarea,#cardModal .modal-content select,
#cardEditModal .modal-content input,#cardEditModal .modal-content textarea{box-sizing:border-box}
#cardEditModal .modal-content textarea{min-height:80px;resize:vertical}
#cardEditModal .modal-content .modal-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:16px}
.delete-btn{background-color:#d62728;color:#fff;border:0;padding:6px 12px;border-radius:4px;cursor:pointer}
.delete-btn:hover{background-color:#b71c1c}

.project-picker{position:relative;display:flex;align-items:center;gap:6px;margin-top:4px;width:100%}
.project-picker input{flex:1}
.project-picker-toggle{border:1px solid #563baf;background:#1b1033;color:#fff;padding:7px 10px;border-radius:6px;cursor:pointer;font-size:14px;line-height:1}
.project-picker-toggle:hover{background:#24154b}
.project-picker-dropdown{position:absolute;top:calc(100% + 4px);left:0;right:0;background:#131320;border:1px solid #563baf;border-radius:6px;max-height:220px;overflow:auto;z-index:15;box-shadow:0 10px 24px rgba(0,0,0,0.45)}
.project-picker-dropdown.hidden{display:none}
.project-option{display:block;width:100%;text-align:left;border:0;background:transparent;color:#f4f6f8;padding:8px 12px;cursor:pointer;font-size:14px}
.project-option:hover,.project-option.match{background:rgba(183,142,245,0.18)}
.project-option.empty{color:rgba(255,255,255,0.6);cursor:default}

/* Settings modal */
#settingsBtn{margin-left:8px;padding:6px 10px}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center}
.modal.hidden{display:none}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.4)}
.links-section{margin-top:16px;padding-top:16px;border-top:1px solid rgba(255,255,255,0.08)}
.links-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.links-header span{font-weight:600}
#addLinkRowBtn{background:#2b2150;color:#fff;border:1px solid #563baf;padding:6px 12px;border-radius:6px;cursor:pointer}
#addLinkRowBtn:hover{background:#3a2f6d}
.link-rows{display:flex;flex-direction:column;gap:10px;margin-top:12px}
.link-row{display:flex;gap:8px;align-items:center}
.link-row input{padding:8px;border:1px solid #555;border-radius:6px;background:#1b1b25;color:#f4f6f8}
.link-row input.link-text{flex:0 0 34%}
.link-row input.link-url{flex:1}
.link-visit{background:#164d6d;color:#fff;padding:6px 12px;border-radius:6px;text-decoration:none;border:1px solid #2a6c8f;min-width:64px;text-align:center}
.link-visit.disabled{pointer-events:none;opacity:0.4}
.link-remove{background:#37214f;color:#fff;border:1px solid #6d4fb3;border-radius:6px;padding:6px 10px;cursor:pointer}
.link-remove:hover{background:#4a2c6d}
.link-hint{display:block;margin-top:8px;font-size:12px;color:rgba(255,255,255,0.6)}
.link-rows:empty::after{content:'No links yet';color:rgba(255,255,255,0.6);font-size:14px}
.modal-content{position:relative;background:#0f0f18;padding:18px;border-radius:8px;z-index:2;min-width:500px;max-width:80%;width:60%;border:2px solid transparent;box-shadow:0 12px 30px rgba(0,0,0,0.45)}
.settings-tabs{display:flex;gap:8px;margin-top:12px}
.settings-tab-btn{flex:0 0 auto;padding:6px 14px;border-radius:999px;border:1px solid #563baf;background:transparent;color:#f4f6f8;cursor:pointer;font-weight:600;transition:background 0.2s ease,color 0.2s ease}
.settings-tab-btn.active{background:#563baf;color:#fff}
.settings-tab-panels{margin-top:16px}
.settings-tab-panel{display:none}
.settings-tab-panel.active{display:block}
.tab-placeholder{margin:16px 0;color:rgba(255,255,255,0.7);font-style:italic}
.columns-list{display:flex;flex-direction:column;gap:8px;margin:8px 0}
.col-row{display:flex;gap:8px;align-items:center}
.col-row input.col-title{flex:1;padding:6px;border:1px solid #ccc;border-radius:4px}
.col-row button{padding:6px 8px}
.add-column{display:flex;gap:8px;margin-top:10px}
.projects-list{display:flex;flex-direction:column;gap:8px;margin:8px 0}
.project-row{display:flex;gap:8px;align-items:center}
.project-row input.project-name{flex:1;padding:6px;border:1px solid #ccc;border-radius:4px}
.project-row input.project-color{width:52px;height:36px;padding:0;border:1px solid #ccc;border-radius:4px}
.project-row button{padding:6px 8px}
.project-empty{padding:12px;border:1px dashed rgba(255,255,255,0.3);border-radius:6px;text-align:center;color:rgba(255,255,255,0.6)}
.add-project{display:flex;gap:8px;margin-top:10px}
.modal-actions{display:flex;justify-content:flex-end;margin-top:12px}
.import-export-panel{display:flex;flex-direction:column;gap:16px;margin-top:10px}
.import-block{background:#131320;border:1px solid rgba(183,142,245,0.35);border-radius:10px;padding:14px}
.import-block h3{margin:0 0 6px;font-size:16px}
.import-block p{margin:0 0 12px;color:rgba(255,255,255,0.7);font-size:13px}
#downloadBoardBtn,#importBoardBtn{background:#563baf;color:#fff;border:1px solid #7d61e3;padding:8px 14px;border-radius:6px;cursor:pointer;font-weight:600}
#downloadBoardBtn:hover,#importBoardBtn:hover{background:#6b4fe3}
#importFileInput{width:100%;padding:8px;border-radius:6px;border:1px solid #563baf;background:#1b1b25;color:#f4f6f8;box-sizing:border-box}
.import-mode{display:flex;flex-direction:column;gap:6px;font-size:13px;color:rgba(255,255,255,0.85);margin-top:10px}
.import-actions{margin-top:12px;display:flex;align-items:center;gap:12px;flex-wrap:wrap}
